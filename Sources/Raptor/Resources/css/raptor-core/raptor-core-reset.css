/* ===== CSS RESET & BASE STYLES ===== */

html {
    -moz-text-size-adjust: none;
    -webkit-text-size-adjust: none;
    text-size-adjust: none;
    scrollbar-gutter: stable both-edges;
}

/* 1. Use a more-intuitive box-sizing model */
*, *::before, *::after {
    box-sizing: border-box;
    -webkit-tap-highlight-color: transparent;
}

/* 2. Remove default margin and padding */
* {
    margin: 0;
}

html {
    height: 100%;
}

body {
    height: 100%;
    display: flex;
    flex-direction: column;
}

main {
    flex: 1 0 auto;
}

main::before {
    content: "";
    display: block;
    height: var(--main-spacing-top, 0);
}

main::after {
    content: "";
    display: block;
    height: var(--main-spacing-bottom, 0);
}

@media (prefers-reduced-motion: no-preference) {
    html {
        interpolate-size: allow-keywords;
    }
}

body {
    color: var(--fg);
    background-color: var(--bg-page);
    padding-top: var(--reserved-space-top, 0);
    padding-bottom: var(--reserved-space-bottom, 0);

    font-size: var(--font-size);
    font-family: var(--font-family);
    font-weight: var(--font-weight);
    line-height: var(--line-height);
    -webkit-text-size-adjust: none;
    hanging-punctuation: first allow-end last;
}

body::before {
  content: "";
  position: fixed;
  inset: 0;
  z-index: -1;
  background-image: var(--bg-gradient);
}

p, span, em, li, div,
h1, h2, h3, h4, h5, h6,
blockquote, figcaption, small {
  color: inherit;
  font-size: inherit;
  font-weight: inherit;
}

button, input, select, textarea {
  font-size: inherit;
}

strong {
    color: inherit;
}

/* Avoid text overflows */
p, h1, h2, h3, h4, h5, h6 {
    overflow-wrap: break-word;
}

/* Improve line wrapping */
p {
    text-wrap: pretty;
    margin-bottom: var(--paragraph-margin-bottom);
    margin-top: var(--paragraph-margin-top);
    margin-right: var(--paragraph-margin-right);
    margin-left: var(--paragraph-margin-left);
}

h1, h2, h3, h4, h5, h6 {
    text-wrap: balance;
    font-family: var(--heading-font-family, var(--font-family));
    line-height: var(--heading-line-height);
}

h1 {
    font-size: var(--h1-font-size);
    font-weight: var(--h1-weight);
    line-height: var(--h1-line-height, var(--headings-line-height, normal));
}

h2 {
    font-size: var(--h2-font-size);
    font-weight: var(--h2-weight);
    line-height: var(--h2-line-height, var(--headings-line-height, normal));
}

h3 {
    font-size: var(--h3-font-size);
    font-weight: var(--h3-weight);
    line-height: var(--h3-line-height, var(--headings-line-height, normal));
}

h4 {
    font-size: var(--h4-font-size);
    font-weight: var(--h4-weight);
    line-height: var(--h4-line-height, var(--headings-line-height, normal));
}

h5 {
    font-size: var(--h5-font-size);
    font-weight: var(--h5-weight);
    line-height: var(--h5-line-height, var(--headings-line-height, normal));
}

h6 {
    font-size: var(--h6-font-size);
    font-weight: var(--h6-weight);
    line-height: var(--h6-line-height, var(--headings-line-height, normal));
}

a {
    color: var(--accent);
    text-decoration: none;
}

/* Code blocks */
pre, pre code {
    font-size: var(--code-block-font-size, 1em);
    line-height: var(--codeblock-line-height, normal);
    margin: var(--paragraph-margin, 0rem);
    font-weight: var(--codeblock-weight, inherit);
    font-family: var(--monospace-font-family, ui-monospace, monospace);
}

/* Inline code */
:not(pre) > code {
    margin: 0;
}

:focus:not(:focus-visible) {
    outline: 0;
}

table {
    border-collapse: collapse;
    border-spacing: 0;
}

ul, ol {
    padding: 0;
}

hr {
    border: none;
    border-top: 1px solid var(--divider);
    margin: 0.25rem 0;
}

.hstack > hr {
    inline-size: 1px;
    block-size: auto;
    align-self: stretch;
}

@media (prefers-reduced-motion: no-preference) {
    * {
        transition-property: transform, opacity, background-color;
        transition-duration: var(--anim-duration, 0.25s);
        transition-timing-function: var(--anim-easing, cubic-bezier(0.25, 0.46, 0.45, 0.94));
        transition-behavior: allow-discrete;
    }
}

/* === Backdrop base === */
/* Backdrop */
dialog::backdrop {
    background: oklch(0% 0 0 / 0.3);
}

/* Fade behaviors */
dialog,
[popover],
dialog::backdrop {
    opacity: 0;
    transition:
        opacity var(--anim-duration, 0.25s) var(--anim-easing, ease),
        display var(--anim-duration, 0.25s) allow-discrete,
        overlay var(--anim-duration, 0.25s) allow-discrete;
}

/* When open */
dialog[open],
:popover-open,
dialog[open]::backdrop {
    opacity: 1;
}

/* Entry start */
@starting-style {
    dialog[open],
    :popover-open,
    dialog[open]::backdrop {
        opacity: 0;
    }
}

i {
    all: unset; /* Remove all inherited/user agent styles */
    color: inherit;
    display: inline-block; /* Give it a predictable box model */
    font-style: normal; /* Remove italic default */
}

/* Inherit fonts for form controls */
input, button, textarea, select {
    font: inherit;
}

input {
    border: 0;
    border-radius: 0.375rem;
    padding: 0 0.75rem;
    box-sizing: border-box;
}

[data-color-scheme="dark"] {
    input {
        color: var(--fg);
        background-color: var(--bg);
    }
}

.svg {
    height: auto;
    width: 100%;
    color: currentColor;
}

mark {
    background-color: color-mix(in srgb, var(--accent) 20%, transparent);
    color: inherit;
}

[data-color-scheme="dark"] mark {
    background-color: color-mix(in srgb, var(--accent) 40%, transparent);
}

[data-search-highlighting="false"] mark,
mark[data-search-highlighting="false"] {
    background-color: transparent;
}

/* Rebind scheme-dependent paint properties at the color-scheme boundary
   so local variable overrides correctly re-evaluate inherited styles. */
[data-color-scheme] {
    color: var(--fg);
    accent-color: var(--accent);
}
